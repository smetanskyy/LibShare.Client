@page "/profile"
@attribute [Authorize]

<section class="ftco-section bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="wrapper px-md-4">
                <div class="row no-gutters">
                    <div class="contact-wrap w-100 p-md-5 p-4">
                        <h3 class="mb-4">Особистий кабінет</h3>
                        <text class="text-danger">@ErrorMessage</text>

                        <div class="row">
                            <div class="col-md-12 mb-5">
                                <div class="imagebox">
                                    <img src="@Model.Photo" onError="this.src='/images/no-avatar.png'" class="rounded-circle d-block image" alt="profile image">
                                    <div class="middle">
                                        <button @onclick="GoToChangePhoto" class="btn btn-primary">Оновити фото</button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="form-group">
                                    <label class="label" for="name">Ім'я: </label>
                                    <input readonly class="form-control" type="text" placeholder="Ім'я"
                                           value="@Model.Name" />
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="form-group">
                                    <label class="label" for="name">Прізвище: </label>
                                    <input readonly class="form-control" type="text" placeholder="Прізвище"
                                           value="@Model.Surname" />
                                </div>
                            </div>


                            <div class="col-md-12 mb-4">
                                <div class="form-group">
                                    <label class="label" for="email">Email: </label>
                                    <input readonly type="text" class="form-control" placeholder="Email"
                                           value="@Model.Email" />
                                </div>
                            </div>


                            <div class="col-md-6 mb-4">
                                <div class="form-group">
                                    <label class="label" for="">Телефон: </label>
                                    <input readonly type="text" class="form-control" placeholder="Телефон"
                                           value="@Model.Phone" />
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="form-group">
                                    <label class="label" for="">Дата народження: </label>
                                    <input type="date" readonly class="form-control" @bind-value="@Model.DateOfBirth" />
                                </div>
                            </div>

                            <div class="col-md-3 mt-3">
                                <div class="form-group text-center">
                                    <button type="button" @onclick="GoToChangeProfile" class="btn btn-primary"> Оновити профіль </button>
                                </div>
                            </div>

                            <div class="col-md-3 mt-3">
                                <div class="form-group text-center">
                                    <button type="button" @onclick="GoToChangePhoto" class="btn btn-success"> Поміняти фото </button>
                                </div>
                            </div>

                            <div class="col-md-3 mt-3">
                                <div class="form-group text-center">
                                    <button type="button" @onclick="GoToChangePassword" class="btn btn-info"> Змінити пароль </button>
                                </div>
                            </div>

                            <div class="col-md-3 mt-3">
                                <div class="form-group text-center">
                                    <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModalCenter"> Видалити акаунт </button>
                                </div>
                            </div>

                            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLongTitle">Видалення акаунта</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            Ви дійсно бажаєте видалити обліковий запис?
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Ні</button>
                                            <button type="button" @onactivate="DeleteAccount" class="btn btn-primary">Так! Моє рішення остаточне!</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>